:root{--stark-font: "Inter", system-ui, -apple-system, sans-serif;--stark-border-radius: 4px;--stark-transition: .2s cubic-bezier(.4, 0, .2, 1);--stark-glass-blur: 12px}.stark-theme-dark{--bg-primary: #0a0a0c;--bg-secondary: #141416;--bg-glass: rgba(20, 20, 22, .7);--border-color: rgba(255, 255, 255, .08);--border-highlight: rgba(255, 255, 255, .15);--text-primary: #e1e1e6;--text-secondary: #94949e;--text-dim: #62626e;--accent-primary: #4f46e5;--accent-secondary: #06b6d4;--status-success: #10b981;--status-error: #ef4444;--status-warning: #f59e0b}.stark-theme-light{--bg-primary: #fcfcfc;--bg-secondary: #f3f4f6;--bg-glass: rgba(252, 252, 252, .8);--border-color: rgba(0, 0, 0, .1);--border-highlight: rgba(0, 0, 0, .2);--text-primary: #111827;--text-secondary: #4b5563;--text-dim: #9ca3af;--accent-primary: #3b82f6;--accent-secondary: #0ea5e9;--status-success: #059669;--status-error: #dc2626;--status-warning: #d97706}body,html{margin:0;padding:0;width:100vw;height:100vh;overflow:hidden;font-family:var(--stark-font);background:var(--bg-primary);color:var(--text-primary)}.stark-shell{display:grid;grid-template-rows:50px 1fr 180px;width:100%;height:100%}.stark-main-grid{display:grid;grid-template-columns:280px 1fr 320px;gap:1px;background:var(--border-color);overflow:hidden}.stark-quadrant{background:var(--bg-primary);padding:12px;border:1px solid transparent;transition:var(--stark-transition);position:relative;overflow:hidden}.stark-quadrant:empty:before{content:attr(id);position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);text-transform:uppercase;font-size:.7rem;letter-spacing:2px;color:var(--text-dim);opacity:.5;border:1px dashed var(--text-dim);padding:4px 8px}.stark-quadrant:hover{border-color:var(--border-highlight);background:var(--bg-secondary)}.stark-sidebar-left,.stark-sidebar-right{display:grid;grid-template-rows:repeat(auto-fit,minmax(100px,1fr));gap:1px;background:var(--border-color)}.stark-canvas-area{background:var(--bg-secondary);position:relative;overflow:hidden}.canvas-box{width:100%;height:100%;background-image:radial-gradient(var(--border-color) 1px,transparent 1px);background-size:32px 32px}.stark-footer-grid{display:grid;grid-template-columns:1fr 320px;gap:1px;background:var(--border-color);border-top:1px solid var(--border-color)}.glass{-webkit-backdrop-filter:blur(var(--stark-glass-blur));backdrop-filter:blur(var(--stark-glass-blur));background:var(--bg-glass)}#m09-designer{padding:0!important;display:flex;flex-direction:column}.spatial-stage{position:relative;width:100%;height:100%;background-color:var(--bg-primary, #0a0a0a);overflow:hidden;cursor:default;background-image:linear-gradient(var(--bg-tertiary, #1f1f1f) 1px,transparent 1px),linear-gradient(90deg,var(--bg-tertiary, #1f1f1f) 1px,transparent 1px);background-size:50px 50px;background-position:-1px -1px}.spatial-entity{position:absolute;transform:translate(-50%,-50%);cursor:pointer;box-shadow:0 4px 6px #0000004d;transition:box-shadow .2s,transform .1s;display:flex;align-items:center;justify-content:center;font-family:var(--stark-font);font-weight:700;-webkit-user-select:none;user-select:none}.spatial-entity:hover{box-shadow:0 0 0 1px var(--text-dim, #666)}.type-ellipse{border-radius:50%}.type-text{white-space:nowrap;font-size:16px;text-shadow:0 2px 4px rgba(0,0,0,.5)}.spatial-entity.selected{z-index:10;box-shadow:0 0 0 1px var(--accent-primary, #0ea5e9)}.entity-selection-ring{position:absolute;top:-4px;left:-4px;right:-4px;bottom:-4px;border:1px dashed var(--accent-primary, #0ea5e9);pointer-events:none}.corner-handle{position:absolute;width:8px;height:8px;background:var(--bg-primary, #000);border:1px solid var(--accent-primary, #0ea5e9);pointer-events:auto}.tl{top:-4px;left:-4px;cursor:nw-resize}.tr{top:-4px;right:-4px;cursor:ne-resize}.bl{bottom:-4px;left:-4px;cursor:sw-resize}.br{bottom:-4px;right:-4px;cursor:se-resize}.empty-stage-hint{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);color:var(--text-dim, #444);font-size:14px;pointer-events:none;text-transform:uppercase;letter-spacing:1px;opacity:.6}.state-hud{display:flex;align-items:center;justify-content:space-between;height:100%;background:var(--bg-tertiary, #151515);border-top:1px solid var(--border-color, #333);padding:0 16px;font-family:var(--stark-font, monospace);font-size:11px;-webkit-user-select:none;user-select:none;color:var(--text-dim, #888)}.state-hud-group{display:flex;align-items:center;gap:16px}.state-hud-item{display:flex;align-items:center;gap:6px}.status-dot{width:6px;height:6px;border-radius:50%;background:#444}.status-dot.connected{background:var(--accent-success, #00ff88);box-shadow:0 0 6px #0f86}.spawner-controls{display:flex;gap:8px;background:var(--bg-secondary, #1a1a1a);padding:4px;border-radius:6px;border:1px solid var(--border-color, #333)}.spawn-btn{background:transparent;border:none;color:var(--text-secondary, #ccc);padding:4px 12px;border-radius:4px;cursor:pointer;font-size:11px;font-weight:600;font-family:var(--stark-font, sans-serif);display:flex;align-items:center;gap:6px;transition:all .2s ease}.spawn-btn:hover{background:var(--bg-hover, #333);color:var(--text-primary, #fff)}.spawn-btn:active{transform:translateY(1px);background:var(--bg-active, #222)}.spawn-btn .icon{font-size:10px;opacity:.7}.version-tag{opacity:.3;font-size:10px;letter-spacing:1px}.the-source-explorer{display:flex;flex-direction:column;height:100%;background:var(--bg-secondary);font-family:var(--stark-font)}.source-header{padding:12px;background:var(--bg-tertiary);border-bottom:1px solid var(--border-color);display:flex;justify-content:space-between;align-items:center}.source-title{font-size:11px;font-weight:900;color:var(--text-primary);letter-spacing:1px}.source-pulse{font-size:8px;color:var(--accent-success);font-weight:700;animation:blink 2s infinite}.source-filter-bar{display:flex;gap:8px;padding:8px;background:var(--bg-primary);border-bottom:1px solid var(--border-highlight);justify-content:center}.filter-dot{width:20px;height:20px;border-radius:4px;border:1px solid var(--border-color);background:transparent;color:var(--text-dim);font-size:9px;font-weight:700;cursor:pointer;transition:all .2s}.filter-dot.active{border-color:var(--accent-primary);color:var(--accent-primary);background:var(--bg-hover)}.source-inventory{flex:1;overflow-y:auto;padding:4px}.var-row{display:flex;justify-content:space-between;align-items:center;padding:8px 12px;margin-bottom:2px;background:var(--bg-secondary);border:1px solid transparent;cursor:grab;transition:all .1s}.var-row:hover{background:var(--bg-tertiary);border-color:var(--border-highlight)}.var-row:active{cursor:grabbing;background:var(--bg-primary)}.var-metadata{display:flex;gap:10px;align-items:center}.var-icon{font-size:10px;color:var(--accent-primary);font-family:monospace;opacity:.6}.var-names{display:flex;flex-direction:column}.var-label{font-size:11px;font-weight:500;color:var(--text-primary)}.var-id{font-size:8px;color:var(--text-dim);font-family:monospace}.var-monitor{font-size:10px;font-family:Fira Code,monospace;color:var(--accent-success);background:var(--bg-primary);padding:2px 6px;border-radius:4px;min-width:50px;text-align:right}.source-footer{padding:8px;font-size:9px;color:var(--text-dim);text-align:center;background:var(--bg-tertiary);border-top:1px solid var(--border-color)}@keyframes blink{0%,to{opacity:1}50%{opacity:.5}}.scroll-stark::-webkit-scrollbar{width:4px}.scroll-stark::-webkit-scrollbar-track{background:transparent}.scroll-stark::-webkit-scrollbar-thumb{background:var(--border-highlight);border-radius:2px}.uci-container{display:flex;flex-direction:column;height:100%;background:var(--bg-secondary);border-left:1px solid var(--border-color);font-family:var(--stark-font)}.uci-container.empty{background:repeating-linear-gradient(45deg,var(--bg-primary),var(--bg-primary) 10px,var(--bg-secondary) 10px,var(--bg-secondary) 20px);opacity:.5}.uci-ghost-overlay{display:flex;align-items:center;justify-content:center;height:100%;color:var(--text-dim);letter-spacing:2px;font-size:10px}.uci-header{padding:16px;background:var(--bg-tertiary);border-bottom:2px solid var(--border-highlight);display:flex;align-items:center;gap:12px}.archetype-avatar{width:32px;height:32px;background:var(--bg-primary);border-radius:50%;border:1px solid var(--accent-primary);color:var(--accent-primary);display:flex;align-items:center;justify-content:center;font-weight:700;font-size:14px}.identity-info{flex:1}.instance-id{font-size:11px;font-family:monospace;color:var(--text-secondary)}.archetype-label{font-size:9px;font-weight:800;text-transform:uppercase;color:var(--accent-primary)}.integrity-status.pure{width:6px;height:6px;border-radius:50%;background:var(--accent-success);box-shadow:0 0 5px var(--accent-success)}.uci-section{padding:16px;border-bottom:1px solid var(--border-color)}.uci-section-title{font-size:10px;letter-spacing:1px;color:var(--text-dim);margin-bottom:12px}.uci-field{margin-bottom:12px}.uci-field label{display:block;font-size:9px;color:var(--text-dim);margin-bottom:4px}.stark-select{width:100%;background:var(--bg-primary);border:1px solid var(--border-color);color:var(--text-primary);padding:6px;border-radius:4px;font-size:11px}.resource-pill{display:flex;align-items:center;gap:8px;background:var(--bg-primary);padding:4px 8px;border-radius:20px;border:1px solid var(--border-highlight)}.resource-pill .path{font-size:10px;color:var(--text-secondary);white-space:nowrap;overflow:hidden;text-overflow:ellipsis;flex:1}.btn-browse{background:var(--bg-tertiary);border:none;color:var(--accent-primary);font-size:8px;font-weight:700;padding:2px 8px;border-radius:10px;cursor:pointer}.uci-tabs{display:flex;background:var(--bg-tertiary);border-bottom:1px solid var(--border-color)}.uci-tab{flex:1;padding:8px;background:transparent;border:none;border-bottom:2px solid transparent;color:var(--text-dim);font-size:10px;font-weight:700;cursor:pointer}.uci-tab.active{color:var(--text-primary);border-bottom-color:var(--accent-primary)}.uci-content-scroll{flex:1;overflow-y:auto}.uci-field-grid{display:grid;grid-template-columns:80px 1fr;align-items:center;gap:8px;padding:8px 16px;border-bottom:1px solid var(--border-highlight)}.uci-field-grid label{font-size:10px;color:var(--text-dim);text-transform:uppercase}.input-group{display:flex;gap:4px}.stark-input-compact{flex:1;background:var(--bg-primary);border:1px solid var(--border-color);color:var(--text-primary);padding:4px 8px;border-radius:4px;font-size:11px;font-family:monospace}.btn-quick-map{background:var(--bg-primary);border:1px solid var(--border-color);color:var(--accent-primary);border-radius:4px;width:24px;cursor:pointer}.uci-footer{padding:12px;background:var(--bg-tertiary);border-top:1px solid var(--border-color)}.stark-btn-commit{width:100%;background:var(--accent-primary);color:#fff;border:none;padding:8px;font-size:11px;font-weight:800;border-radius:4px;cursor:pointer;box-shadow:0 0 10px #0ea5e933}.isk-shell-projector{display:grid;grid-template-areas:"left center right" "bottom bottom bottom";grid-template-columns:auto 1fr auto;grid-template-rows:1fr auto;height:100%;width:100%;background:var(--bg-primary);color:var(--text-primary);font-family:var(--stark-font);overflow:hidden;position:relative;transition:all .3s cubic-bezier(.4,0,.2,1)}.isk-shell-projector.isk-fullscreen{position:fixed;top:0;left:0;width:100vw;height:100vh;z-index:9999;border:none;background:var(--bg-primary)}.isk-zen-toggle{position:absolute;top:8px;right:8px;z-index:100;background:var(--bg-glass);border:1px solid var(--border-color);color:var(--text-secondary);width:32px;height:32px;border-radius:var(--stark-border-radius);cursor:pointer;display:flex;align-items:center;justify-content:center;font-size:18px;transition:all .2s ease;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px)}.isk-zen-toggle:hover{background:var(--bg-secondary);border-color:var(--accent-secondary);color:var(--accent-secondary);transform:scale(1.05)}.isk-zone{border:1px solid var(--border-color);background:var(--bg-secondary);display:flex;flex-direction:column;overflow:hidden}.isk-zone-left{grid-area:left;border-right:1px solid var(--border-highlight)}.isk-zone-center{grid-area:center;position:relative;background:var(--bg-primary)}.isk-zone-right{grid-area:right;border-left:1px solid var(--border-highlight)}.isk-zone-bottom{grid-area:bottom;border-top:1px solid var(--border-highlight)}.isk-zone-header{padding:0 12px;background:var(--bg-tertiary, var(--bg-secondary));border-bottom:1px solid var(--border-color);font-size:11px;font-weight:600;text-transform:uppercase;letter-spacing:.5px;color:var(--text-dim);display:flex;justify-content:space-between;align-items:center;height:32px;box-sizing:border-box}.isk-zone-content{flex:1;overflow:auto;position:relative}.isk-zone-center .isk-zone-content{overflow:hidden;padding:0}.isk-empty-slot{display:flex;align-items:center;justify-content:center;height:100%;color:#555;font-style:italic;background:repeating-linear-gradient(45deg,#111,#111 10px,#151515 10px,#151515 20px)}.isk-empty-slot code{background:#000;padding:4px 8px;border:1px solid #333;border-radius:4px;font-family:Fira Code,monospace;font-size:12px;color:#888}.isk-loading{display:flex;flex-direction:column;align-items:center;justify-content:center;height:100%;background:#0a0a0a;color:#e0e0e0}.isk-loading-spinner{width:40px;height:40px;border:3px solid #333;border-top-color:#0ea5e9;border-radius:50%;animation:isk-spin .8s linear infinite;margin-bottom:16px}.isk-error{display:flex;align-items:center;justify-content:center;height:100%;background:#2a0a0a;color:#f44;font-weight:700}@keyframes isk-spin{to{transform:rotate(360deg)}}.isk-zone[data-resizable=true]{resize:horizontal;overflow:auto}
